---
import Layout from "../../layouts/Layout.astro";

const audioSrc = "/audio/belief.mp3";

// Page labels (hero kƒ±smƒ±nda, senin ekranƒ±ndaki gibi)
const heroTitle = "we must believe (?)";
const heroSubtitle =
  "On old gods, modern gods, and what happens when explanations get better ‚Äî but meaning stays hungry.";

// Audio card (kart i√ßinde g√∂z√ºkecek)
const audioTitle = "belief note";
const audioMeta = "Audio recording ¬∑ JLOG!";
---

<Layout title="we must believe (?) ‚Äî Ugurcan">
  <main class="wrap">
    <!-- HERO (senin mevcut tasarƒ±mƒ±n hissiyle) -->
    <header class="hero" aria-label="Page header">
      <div class="hero-text">
        <p class="kicker">JLOG ¬∑ BELIEF NOTE</p>
        <h1 class="h1">{heroTitle}</h1>
        <p class="sub">{heroSubtitle}</p>

        <div class="chips" aria-label="Tags">
          <span class="chip">BELIEF</span>
          <span class="dot">‚Ä¢</span>
          <span class="chip-plain">Personal note ¬∑ reflective ¬∑ not a lecture</span>
        </div>
      </div>

      <!-- Saƒüdaki g√∂rsel senin din.jpg‚Äônin yerini temsil ediyor.
           Eƒüer zaten sayfanda farklƒ± isimle kullanƒ±yorsan sadece src'yi deƒüi≈ütir. -->
      <div class="hero-media" aria-label="Cover image">
        <img src="/images/din.jpg" alt="Belief evolution illustration" loading="eager" />
      </div>
    </header>

    <!-- AUDIO CARD (Hero ile yazƒ± arasƒ±na) -->
    <section class="audio-card" aria-label="Audio recording">
      <div class="card-top">
        <div class="wave" aria-hidden="true">
          <svg viewBox="0 0 120 24" width="120" height="24">
            <path
              d="M2 12c6 0 6-8 12-8s6 16 12 16 6-16 12-16 6 16 12 16 6-16 12-16 6 16 12 16 6-16 12-16 6 8 12 8"
              fill="none"
              stroke="currentColor"
              stroke-width="2.2"
              stroke-linecap="round"
              opacity=".55"
            />
          </svg>
        </div>

        <div class="card-title">
          <div class="small">{audioMeta}</div>
          <div class="big">{audioTitle}</div>
        </div>

        <a class="download" href={audioSrc} download aria-label="Download audio">Download</a>
      </div>

      <div class="player" aria-label="Audio controls">
        <button class="play" type="button" aria-label="Play/Pause" id="playBtn">‚ñ∂</button>

        <div class="time" id="tNow">0:00</div>

        <input
          class="seek"
          id="seek"
          type="range"
          min="0"
          max="1000"
          value="0"
          step="1"
          aria-label="Seek"
        />

        <div class="time" id="tDur">0:00</div>

        <button class="mute" type="button" aria-label="Mute/Unmute" id="muteBtn">üîà</button>
      </div>

      <div class="autoplay-hint" id="hint" aria-live="polite"></div>

      <audio id="audio" preload="metadata" playsinline>
        <source src={audioSrc} type="audio/mpeg" />
        Your browser does not support the audio element.
      </audio>
    </section>

    <!-- ESSAY -->
    <article class="paper" aria-label="Entry">
      <p class="lede">
        I keep noticing something in myself: even when I don‚Äôt want to ‚Äúbelieve,‚Äù my mind still searches for a
        shape to hold onto. A story. A reason. A center of gravity.
      </p>

      <div class="body">
        <p>
          I‚Äôm not writing this as a professor, or a theologian, or someone who has the ‚Äúright‚Äù model of history.
          I‚Äôm writing it as a curious person who grew up watching how belief moves through people ‚Äî and how it
          quietly moves through me too.
        </p>

        <p>
          When I look back at older cultures, it‚Äôs hard not to feel the practical pressure of uncertainty. Storms,
          droughts, illness, death, a bad harvest ‚Äî the world could turn against you with no warning, and no clear
          explanation. If you couldn‚Äôt predict it, the next best thing was to give it a name. To personify it.
          To negotiate with it. To make it social. A god of the sea, a god of war, a god of fertility. Not because
          people were ‚Äústupid,‚Äù but because uncertainty is painful ‚Äî and story is one of the oldest painkillers.
        </p>

        <p>
          Over time, belief systems didn‚Äôt only explain nature. They also explained <em>us</em>: why society needs
          rules, why we should be loyal, why suffering might have meaning, why death might not be the final line.
          Belief became a kind of architecture ‚Äî a way to organize a life, not only a way to interpret thunder.
        </p>

        <p>
          Then something strange happened: our explanations started getting better. Not ‚Äúperfect,‚Äù not complete ‚Äî
          just better. We learned patterns. We measured. We predicted. We found causes that didn‚Äôt require gods to
          have moods. And little by little, the old roles began to shrink. The god of lightning lost territory to
          electricity. The god of disease lost territory to microbes. The god of the sky lost territory to physics.
        </p>

        <p>
          But the need didn‚Äôt disappear ‚Äî it just moved. I think this is the part that fascinates me most. When a
          culture stops needing gods for nature, the hunger for meaning can still remain. And when meaning remains
          hungry, we tend to build new altars.
        </p>

        <p>
          Some of our modern ‚Äúgods‚Äù don‚Äôt wear mythological names. They wear different clothes: ideology, identity,
          money, status, progress, certainty, the algorithm, the tribe. Sometimes even ‚Äúscience‚Äù can become a god ‚Äî
          not as a method, but as a badge, a personality, a way to feel superior or safe. And technology‚Ä¶ technology
          can become a god very easily, because it actually <em>works</em>. It produces miracles on schedule.
        </p>

        <p>
          The irony is that as knowledge grows, it also reveals deeper unknowns. We don‚Äôt end belief ‚Äî we relocate it.
          We trade one mystery for another. We don‚Äôt worship thunder; we worship certainty. We don‚Äôt fear eclipses;
          we fear being wrong. And being wrong is terrifying, because it means we don‚Äôt control the story.
        </p>

        <p>
          I sometimes wonder if the long arc of culture is not ‚Äúfrom religion to science,‚Äù but ‚Äúfrom superstition to
          responsibility.‚Äù When we can‚Äôt outsource explanations to gods, we become responsible for our choices. When
          we can‚Äôt blame fate, we have to face our incentives. When we can‚Äôt expect salvation from elsewhere, we
          must build systems that reduce suffering here.
        </p>

        <p>
          And maybe ‚Äî just maybe ‚Äî the next stage isn‚Äôt ‚Äúnew gods,‚Äù but a culture strong enough to live with
          uncertainty without panic. A culture that can say: I don‚Äôt know‚Ä¶ and still stay kind. Still stay curious.
          Still keep building.
        </p>

        <p class="sig">‚Äî Ugurcan</p>
      </div>
    </article>
  </main>

  <style>
    .wrap{
      max-width: 1100px;
      margin: 0 auto;
      padding: 18px 18px 96px;
      display: grid;
      gap: 16px;
    }

    /* HERO */
    .hero{
      display: grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 16px;
      padding-top: 8px;
      align-items: stretch;
    }

    .hero-text{
      background: rgba(255,255,255,0.0);
      padding: 14px 2px;
    }

    .kicker{
      margin: 0 0 10px;
      font-size: 12px;
      font-weight: 900;
      letter-spacing: .26em;
      text-transform: uppercase;
      color: rgba(11,11,15,0.58);
    }

    .h1{
      margin: 0 0 10px;
      font-size: 44px;
      font-weight: 850;
      letter-spacing: -0.035em;
      line-height: 1.05;
      color: rgba(11,11,15,0.92);
    }

    .sub{
      margin: 0 0 14px;
      font-size: 14px;
      line-height: 1.6;
      color: rgba(11,11,15,0.60);
      max-width: 70ch;
    }

    .chips{
      display:flex;
      align-items:center;
      gap: 10px;
      flex-wrap: wrap;
      color: rgba(11,11,15,0.55);
      font-size: 13px;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      height: 28px;
      padding: 0 10px;
      border-radius: 999px;
      background: rgba(255,255,255,0.85);
      border: 1px solid rgba(0,0,0,0.08);
      font-weight: 800;
      letter-spacing: .12em;
      font-size: 11px;
      color: rgba(11,11,15,0.72);
    }

    .chip-plain{ font-weight: 650; }
    .dot{ opacity: .7; }

    .hero-media{
      border-radius: 22px;
      overflow: hidden;
      background: rgba(255,255,255,0.92);
      border: 1px solid rgba(0,0,0,0.06);
      box-shadow: 0 14px 48px rgba(0,0,0,0.06);
      display:flex;
      align-items:center;
      justify-content:center;
      min-height: 220px;
    }

    .hero-media img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display:block;
    }

    /* AUDIO CARD (JLOG style) */
    .audio-card{
      width: min(980px, 100%);
      margin: 0 auto;
      background: rgba(255,255,255,0.92);
      border: 1px solid rgba(0,0,0,0.06);
      border-radius: 22px;
      box-shadow: 0 14px 48px rgba(0,0,0,0.07);
      padding: 16px 16px 14px;
      overflow: hidden;
    }

    .card-top{
      display:flex;
      align-items:center;
      gap: 14px;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(0,0,0,0.06);
      margin-bottom: 12px;
    }

    .wave{
      width: 44px;
      height: 44px;
      border-radius: 12px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(245,245,247,0.9);
      border: 1px solid rgba(0,0,0,0.06);
      color: rgba(11,11,15,0.55);
      flex-shrink: 0;
    }

    .card-title{ min-width:0; flex:1; }

    .small{
      font-size: 12px;
      font-weight: 650;
      color: rgba(11,11,15,0.55);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .big{
      margin-top: 2px;
      font-size: 16px;
      font-weight: 850;
      letter-spacing: -0.02em;
      color: rgba(11,11,15,0.90);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      text-transform: lowercase;
    }

    .download{
      flex-shrink:0;
      padding: 9px 12px;
      border-radius: 10px;
      border: 1px solid rgba(0,0,0,0.10);
      background: rgba(255,255,255,0.90);
      color: rgba(11,11,15,0.78);
      font-size: 13px;
      font-weight: 700;
      text-decoration: none;
      transition: transform .15s ease, background .15s ease;
    }
    .download:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,1);
      color: rgba(11,11,15,0.92);
    }

    .player{
      display:flex;
      align-items:center;
      gap: 12px;
      padding: 2px 2px 4px;
    }

    .play, .mute{
      width: 38px;
      height: 38px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.10);
      background: rgba(255,255,255,0.92);
      color: rgba(11,11,15,0.86);
      cursor: pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      transition: transform .15s ease, background .15s ease;
      user-select:none;
    }
    .play:hover, .mute:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,1);
    }

    .time{
      font-variant-numeric: tabular-nums;
      font-size: 12px;
      font-weight: 750;
      color: rgba(11,11,15,0.58);
      min-width: 44px;
      text-align:center;
      user-select:none;
    }

    .seek{
      flex: 1;
      -webkit-appearance: none;
      appearance: none;
      height: 6px;
      border-radius: 999px;
      background: rgba(0,0,0,0.12);
      outline: none;
    }
    .seek::-webkit-slider-thumb{
      -webkit-appearance:none;
      appearance:none;
      width: 14px;
      height: 14px;
      border-radius: 999px;
      background: rgba(11,11,15,0.85);
      border: 2px solid rgba(255,255,255,0.90);
      box-shadow: 0 6px 18px rgba(0,0,0,0.15);
      cursor: pointer;
    }
    .seek::-moz-range-thumb{
      width: 14px;
      height: 14px;
      border-radius: 999px;
      background: rgba(11,11,15,0.85);
      border: 2px solid rgba(255,255,255,0.90);
      box-shadow: 0 6px 18px rgba(0,0,0,0.15);
      cursor: pointer;
    }

    .autoplay-hint{
      margin: 6px 2px 0;
      font-size: 12px;
      line-height: 1.45;
      color: rgba(11,11,15,0.52);
      min-height: 18px;
    }

    /* ESSAY */
    .paper{
      width: min(980px, 100%);
      margin: 0 auto;
      background: rgba(255,255,255,0.92);
      border: 1px solid rgba(0,0,0,0.06);
      border-radius: 22px;
      box-shadow: 0 14px 48px rgba(0,0,0,0.06);
      padding: 22px 22px 18px;
    }

    .lede{
      margin: 0 0 14px;
      font-size: 18px;
      line-height: 1.55;
      font-weight: 750;
      color: rgba(11,11,15,0.88);
    }

    .body p{
      margin: 0 0 12px;
      font-size: 15px;
      line-height: 1.75;
      color: rgba(11,11,15,0.72);
    }

    .sig{
      margin-top: 10px;
      color: rgba(11,11,15,0.55);
      font-weight: 750;
    }

    @media (max-width: 860px){
      .hero{ grid-template-columns: 1fr; }
      .hero-media{ min-height: 200px; }
    }

    @media (max-width: 520px){
      .h1{ font-size: 34px; }
      .time{ min-width: 38px; }
      .download{ padding: 9px 10px; }
      .paper{ padding: 18px 16px 14px; }
      .lede{ font-size: 16.5px; }
    }
  </style>

  <script is:inline>
    const audio = document.getElementById("audio");
    const playBtn = document.getElementById("playBtn");
    const muteBtn = document.getElementById("muteBtn");
    const seek = document.getElementById("seek");
    const tNow = document.getElementById("tNow");
    const tDur = document.getElementById("tDur");
    const hint = document.getElementById("hint");

    function fmt(s){
      if (!isFinite(s)) return "0:00";
      const m = Math.floor(s / 60);
      const r = Math.floor(s % 60);
      return `${m}:${String(r).padStart(2,"0")}`;
    }

    function update(){
      const dur = audio.duration || 0;
      const cur = audio.currentTime || 0;
      tNow.textContent = fmt(cur);
      tDur.textContent = fmt(dur);
      if (dur > 0){
        const v = Math.round((cur / dur) * 1000);
        seek.value = String(v);
      }
    }

    function setPlaying(on){
      playBtn.textContent = on ? "‚ùö‚ùö" : "‚ñ∂";
    }

    async function tryAutoplay(){
      try{
        await audio.play();
        setPlaying(true);
        hint.textContent = "";
      }catch(e){
        setPlaying(false);
        hint.textContent = "Autoplay may be blocked by your browser. Press Play to start.";
      }
    }

    audio.addEventListener("loadedmetadata", update);
    audio.addEventListener("timeupdate", update);
    audio.addEventListener("play", () => setPlaying(true));
    audio.addEventListener("pause", () => setPlaying(false));
    audio.addEventListener("ended", () => setPlaying(false));

    playBtn.addEventListener("click", async () => {
      if (audio.paused){
        try { await audio.play(); } catch(e) {}
      } else {
        audio.pause();
      }
    });

    muteBtn.addEventListener("click", () => {
      audio.muted = !audio.muted;
      muteBtn.textContent = audio.muted ? "üîá" : "üîà";
    });

    seek.addEventListener("input", () => {
      const dur = audio.duration || 0;
      if (dur <= 0) return;
      const v = Number(seek.value) / 1000;
      audio.currentTime = v * dur;
    });

    if (document.readyState === "loading"){
      document.addEventListener("DOMContentLoaded", () => {
        update();
        tryAutoplay();
      }, { once: true });
    } else {
      update();
      tryAutoplay();
    }
  </script>
</Layout>
