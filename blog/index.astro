---
const posts = await Astro.glob("./*.md");

posts.sort((a, b) => {
  const da = new Date(a.frontmatter?.pubDate ?? 0).getTime();
  const db = new Date(b.frontmatter?.pubDate ?? 0).getTime();
  return db - da;
});
---

<!doctype html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>JLOG</title>
  </head>
  <body>
    <main style="max-width:900px;margin:80px auto;padding:0 20px;">
      <h1>JLOG</h1>
      <p>Yazılar</p>

      <ul style="margin-top:24px;display:grid;gap:14px;padding-left:16px;">
        {posts.map((post) => (
          <li>
            <a href={post.url} style="text-decoration:underline;">
              {post.frontmatter?.title ?? post.url}
            </a>
            {post.frontmatter?.pubDate && (
              <span style="opacity:.7;"> — {String(post.frontmatter.pubDate)}</span>
            )}
          </li>
        ))}
      </ul>
    </main>
  </body>
</html>
